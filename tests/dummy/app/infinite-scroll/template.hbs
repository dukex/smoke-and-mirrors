<header>
    <h1>Smoke And Mirrors</h1>
    <nav>
      {{#link-to "index"}}Overview{{/link-to}}
        | {{#link-to "dbmon-naive"}}DBMon - Naive{{/link-to}}
        | {{#link-to "dbmon-occlusion-collection"}}Vertical Collection{{/link-to}}
        | {{#link-to "infinite-scroll"}}Infinite Scroll{{/link-to}}
    </nav>
</header>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-7">
          {{!- BEGIN-SNIPPET infinite-scroll-example }}
            <div class="table-wrapper">
              {{#vertical-collection
                content=model.images
                defaultHeight=350
                alwaysUseDefaultHeight=true
                visibleBuffer=1
                invisibleBuffer=2
                containerSelector=".table-wrapper"
                lastReached="loadBelow"
                firstReached="loadAbove"
                keyForId="id"
                as |image|
                }}
                  <div class="image-slide">
                      {{async-image src=image.small}}
                  </div>
              {{/vertical-collection}}
            </div>
            {{!- END-SNIPPET }}
        </div>
        <div class="col-sm-5">
            <h3>Infinite Scroll</h3>
            <p>
                The Occlusion Collection can be used to quickly build a robust infinite scroll.
                You do not need to worry too hard about how you manipulate the underlying array,
                both the array and it's content are proxied so views will be reused as much as
                possible.
            </p>
            <p>
                Prepending to the array is made more efficient via a quick length + same object at offset
                comparison.  If it looks like you simply added 10 items to the beginning of an array,
                10 new views are created and prepended without affecting the old views.  Any other
                data changes further in the array will still be updated.
            </p>
            <h4>Code for Demo</h4>
            {{code-snippet name="infinite-scroll-example.hbs"}}
        </div>
    </div>
</div>

